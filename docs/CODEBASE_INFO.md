# CodeBase Info: ICE.OS Structure

## Top-Level Structure

- `app/` - Main application code (APIs, models, nodes, providers, utils, etc.)
- `tests/` - Integration and unit tests
- `requirements.txt` - Python dependencies
- `pyproject.toml` - Project metadata and build config
- `QUICKSTART.md` - Quickstart guide for setup and usage
- `SCRIPTCHAIN_ANALYSIS.md` - Strategic and technical analysis of the codebase
- `CODEBASE_INFO.md` - (This file) Codebase structure and descriptions
- `.gitignore`, `.coverage`, `.benchmarks/`, `.pytest_cache/`, `htmlcov/` - Dev, test, and coverage artifacts
- `venv/` - Python virtual environment (local, not in version control)

---

## app/ (Main Application)

- `main.py` - FastAPI entrypoint; sets up the API server and routes
- `__init__.py` - Marks the directory as a Python package
- `.DS_Store` - macOS metadata (can be ignored)

### Subdirectories:

- `api/` - API routing and endpoint definitions
  - `routes.py` - Main API routes for workflows, nodes, chains, etc.
  - `__init__.py` - API package marker

- `models/` - Data and config models (Pydantic)
  - `config.py` - LLM config, provider enums, and validation logic
  - `node_models.py` - Node configuration and schema models
  - `__init__.py` - Models package marker

- `nodes/` - Node implementations (core logic for each node type)
  - `text_generation.py` - Main text generation node logic (LLM calls, prompt handling)
  - `base.py` - Base node class and shared logic
  - `__init__.py` - Nodes package marker

- `llm_providers/` - Handlers for each LLM provider
  - `openai_handler.py` - OpenAI API integration
  - `anthropic_handler.py` - Anthropic API integration
  - `google_gemini_handler.py` - Google Gemini API integration
  - `deepseek_handler.py` - DeepSeek API integration
  - `base_handler.py` - Abstract base handler for LLM providers
  - `__init__.py` - Providers package marker

- `chains/` - Workflow chain logic
  - `script_chain.py` - Core logic for chaining nodes and managing execution
  - `__init__.py` - Chains package marker

- `utils/` - Utility modules and helpers
  - `context.py` - Context management for node execution
  - `token_counter.py` - Token counting utilities
  - `debug_callback.py`, `callbacks.py`, `tracking.py`, `logging.py` - Debugging, callback, and logging utilities
  - `__init__.py` - Utils package marker

- `data/` - Persistent or sample data
  - `context_store.json` - Stores node execution context/state

- `config/` - Configuration factories and helpers
  - `factories.py` - Factory functions for configs and objects

---

## tests/ (Testing)

- `openai_chain_test.py` - Comprehensive integration test suite for multi-node, multi-provider chains
- `fixtures/` - Test fixtures (data, mocks, etc.)

---

## Other Notable Files/Folders

- `htmlcov/` - HTML coverage reports (generated by pytest-cov)
- `.gitignore` - Git ignore rules
- `cleanup.sh` - Shell script for cleaning up build/test artifacts
- `.benchmarks/`, `.pytest_cache/`, `gaffer.egg-info/` - Dev/test/build artifacts

---

## Summary
This structure supports modular, extensible, and testable development for multi-provider LLM workflow orchestration. Each major provider, node type, and utility is isolated for maintainability and future growth. 